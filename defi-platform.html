<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HCF DeFi Platform - ÂÆåÊï¥ÂäüËÉΩÁâà</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 20px 30px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        .nav-tabs {
            display: flex;
            gap: 20px;
            background: white;
            padding: 10px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        .nav-tab {
            padding: 10px 20px;
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            font-size: 16px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        .nav-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .page-content {
            display: none;
        }
        .page-content.active {
            display: block;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }
        .card-title {
            font-size: 14px;
            color: #888;
            margin-bottom: 8px;
        }
        .card-value {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        .card-suffix {
            font-size: 14px;
            color: #667eea;
            margin-left: 5px;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 5px;
        }
        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }
        .btn-secondary:hover {
            background: #e0e0e0;
        }
        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff4757 100%);
        }
        .btn-success {
            background: linear-gradient(135deg, #26de81 0%, #20bf6b 100%);
        }
        .input-group {
            margin: 20px 0;
        }
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }
        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
        }
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        .progress {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin: 0 5px;
        }
        .badge-success {
            background: #e8f5e9;
            color: #4caf50;
        }
        .badge-warning {
            background: #fff3e0;
            color: #ff9800;
        }
        .badge-danger {
            background: #ffebee;
            color: #f44336;
        }
        .badge-info {
            background: #e3f2fd;
            color: #2196f3;
        }
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .table th, .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        .table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #555;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #667eea;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .info-box {
            background: #f0f8ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .error-box {
            background: #ffebee;
            border-left: 4px solid #f44336;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .level-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .level-card {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .level-card:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }
        .level-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .level-card h3 {
            margin: 0 0 10px 0;
        }
        .level-card p {
            margin: 5px 0;
            font-size: 14px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .stat-label {
            color: #666;
        }
        .stat-value {
            font-weight: bold;
            color: #333;
        }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üöÄ HCF DeFi Platform</div>
            <div id="wallet-status">
                <button class="btn" onclick="connectWallet()">ËøûÊé•Èí±ÂåÖ</button>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchPage('dashboard')">üìä ‰ª™Ë°®Áõò</button>
            <button class="nav-tab" onclick="switchPage('staking')">üí∞ Ë¥®ÊäºÊ±†</button>
            <button class="nav-tab" onclick="switchPage('referral')">üë• Êé®Ëçê</button>
            <button class="nav-tab" onclick="switchPage('nodenft')">üé® ËäÇÁÇπNFT</button>
            <button class="nav-tab" onclick="switchPage('exchange')">üí± ÂÖëÊç¢</button>
            <button class="nav-tab" onclick="switchPage('ranking')">üèÜ ÊéíÂêç</button>
            <button class="nav-tab" onclick="switchPage('governance')">üó≥Ô∏è Ê≤ªÁêÜ</button>
        </div>

        <!-- ‰ª™Ë°®ÁõòÈ°µÈù¢ -->
        <div id="dashboard-page" class="page-content active">
            <h2 style="color: white; margin-bottom: 20px;">‰ª™Ë°®Áõò - ÊÄªËßà</h2>
            
            <!-- ËµÑ‰∫ßÊ¶ÇËßà -->
            <div class="grid">
                <div class="card">
                    <div class="card-title">HCF ‰ΩôÈ¢ù</div>
                    <div class="card-value">
                        <span id="hcf-balance">0.00</span>
                        <span class="card-suffix">HCF</span>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">BSDT ‰ΩôÈ¢ù</div>
                    <div class="card-value">
                        <span id="bsdt-balance">0.00</span>
                        <span class="card-suffix">BSDT</span>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">BNB ‰ΩôÈ¢ù</div>
                    <div class="card-value">
                        <span id="bnb-balance">0.00</span>
                        <span class="card-suffix">BNB</span>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">Êó•Êî∂Áõä</div>
                    <div class="card-value" style="color: #4caf50;">
                        <span id="daily-income">0.00</span>
                        <span class="card-suffix">HCF</span>
                    </div>
                </div>
            </div>

            <!-- Âõ¢ÈòüÂíåÂπ≥Âè∞‰ø°ÊÅØ -->
            <div class="grid">
                <div class="card">
                    <div class="card-title">Âõ¢ÈòüÁ≠âÁ∫ß</div>
                    <div class="card-value">
                        <span id="team-level">V0</span>
                        <span class="badge badge-info" id="team-badge">Êú™ÊøÄÊ¥ª</span>
                    </div>
                    <div style="margin-top: 10px;">
                        <small>Âõ¢Èòü‰∏öÁª©: <span id="team-volume">0</span> HCF</small>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">ÊÄª‰æõÂ∫îÈáè</div>
                    <div class="card-value">
                        <span id="total-supply">1,000,000,000</span>
                        <span class="card-suffix">HCF</span>
                    </div>
                    <div style="margin-top: 10px;">
                        <small>‰ª∑Ê†ºÂå∫Èó¥: $0.99 - $1.01</small>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">ËäÇÁÇπÊï∞Èáè</div>
                    <div class="card-value">
                        <span id="node-count">45</span> / 99
                    </div>
                    <div class="progress">
                        <div class="progress-bar" style="width: 45%;"></div>
                    </div>
                </div>
            </div>

            <!-- Âä®ÊÄÅÊî∂ÁõäÂíåË°∞Âáè -->
            <div class="grid">
                <div class="card">
                    <h3>Âä®ÊÄÅÊî∂ÁõäÊØî</h3>
                    <div style="text-align: center; margin: 20px 0;">
                        <div style="font-size: 48px; font-weight: bold; color: #667eea;">
                            <span id="dynamic-yield">70</span>%
                        </div>
                        <div style="margin-top: 10px;">
                            <div>Âü∫Á°Ä: 1000 HCF</div>
                            <div>ÂΩìÂâç: 70%</div>
                            <div style="color: #4caf50; font-weight: bold;">ÂÆûÈôÖ: 700 HCF</div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <h3>Ë°∞ÂáèÁä∂ÊÄÅ</h3>
                    <div class="stat-item">
                        <span class="stat-label">ÊÄªË¥®ÊäºÈáè</span>
                        <span class="stat-value">1.1‰∫ø HCF</span>
                    </div>
                    <div class="warning-box">
                        Ë°∞ÂáèÁéá: 0.1% (ÊÄªË¥®ÊäºË∂ÖËøá1.1‰∫ø)
                    </div>
                </div>
                <div class="card">
                    <h3>Âä†ÊàêÂàóË°®</h3>
                    <div class="stat-item">
                        <span class="stat-label">ÊåÅÊúâÊó∂Èïø</span>
                        <span class="stat-value">+10%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Âõ¢ÈòüÁ≠âÁ∫ß</span>
                        <span class="stat-value">+5%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ËäÇÁÇπÊåÅÊúâ</span>
                        <span class="stat-value">+20%</span>
                    </div>
                    <div style="border-top: 1px solid #e0e0e0; margin-top: 10px; padding-top: 10px;">
                        <strong>ÊÄªÂä†Êàê: +35%</strong>
                    </div>
                </div>
            </div>

            <!-- ÈîÄÊØÅÂíåÊó†Â∏∏ÊçüÂ§± -->
            <div class="grid">
                <div class="card">
                    <h3>ÈîÄÊØÅÁéáÊèêÁ§∫</h3>
                    <div class="error-box">
                        ÂΩìÂâçÈîÄÊØÅÁéá: 5%<br>
                        ÊØèÁ¨î‰∫§ÊòìÂ∞ÜÈîÄÊØÅ5%ÁöÑ‰ª£Â∏Å
                    </div>
                </div>
                <div class="card">
                    <h3>Êó†Â∏∏ÊçüÂ§±Áä∂ÊÄÅ</h3>
                    <div class="warning-box">
                        ÂΩìÂâçÊçüÂ§±: -500 HCF<br>
                        Ë°•ÂÅøÊ±†: 10,000 HCF
                    </div>
                    <button class="btn btn-success">Áî≥ËØ∑Ë°•ÂÅø</button>
                </div>
                <div class="card">
                    <h3>ÊéíÂêçÂ•ñÂä±Ê¶ÇËßà</h3>
                    <div class="info-box">
                        Ë¥®ÊäºÊéíÂêç: #50<br>
                        È¢ùÂ§ñÂä†Êàê: +20%<br>
                        È¢ùÂ§ñÂ•ñÂä±: 2000 HCF
                    </div>
                </div>
            </div>

            <!-- ÊúÄÊñ∞‰∫§Êòì -->
            <div class="card">
                <h3>ÊúÄÊñ∞‰∫§Êòì</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Á±ªÂûã</th>
                            <th>Êï∞Èáè</th>
                            <th>Êó∂Èó¥</th>
                            <th>Áä∂ÊÄÅ</th>
                        </tr>
                    </thead>
                    <tbody id="recent-transactions">
                        <tr>
                            <td><span class="badge badge-success">Êé•Êî∂</span></td>
                            <td>1000 HCF</td>
                            <td>2ÂàÜÈíüÂâç</td>
                            <td><span class="badge badge-success">ÊàêÂäü</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- ÂäüËÉΩÂÖ•Âè£ÊåâÈíÆ -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-top: 20px;">
                <button class="btn" onclick="switchPage('staking')">ËøõÂÖ•Ë¥®Êäº</button>
                <button class="btn" onclick="switchPage('referral')">ËøõÂÖ•Êé®Ëçê</button>
                <button class="btn" onclick="switchPage('nodenft')">ËøõÂÖ•ËäÇÁÇπ</button>
                <button class="btn" onclick="switchPage('exchange')">ËøõÂÖ•ÂÖëÊç¢</button>
                <button class="btn" onclick="switchPage('ranking')">ËøõÂÖ•ÊéíÂêç</button>
                <button class="btn" onclick="switchPage('governance')">ËøõÂÖ•Ê≤ªÁêÜ</button>
            </div>
        </div>

        <!-- Ë¥®ÊäºÊ±†È°µÈù¢ -->
        <div id="staking-page" class="page-content">
            <h2 style="color: white; margin-bottom: 20px;">Ë¥®ÊäºÊ±†</h2>
            
            <!-- Ë¥®ÊäºÁ≠âÁ∫ßÈÄâÊã© -->
            <div class="card">
                <h3>ÈÄâÊã©Ë¥®ÊäºÁ≠âÁ∫ß</h3>
                <div class="level-grid">
                    <div class="level-card" onclick="selectStakingLevel(1, this)">
                        <h3>Level 1</h3>
                        <p>ÊúÄ‰Ωé: 10 HCF</p>
                        <p>Êó•Âåñ: 0.4%</p>
                        <p>LP: 0.8%</p>
                        <p>Â§çÊäï: 10ÂÄç</p>
                    </div>
                    <div class="level-card" onclick="selectStakingLevel(2, this)">
                        <h3>Level 2</h3>
                        <p>ÊúÄ‰Ωé: 100 HCF</p>
                        <p>Êó•Âåñ: 0.5%</p>
                        <p>LP: 1.0%</p>
                        <p>Â§çÊäï: 20ÂÄç</p>
                    </div>
                    <div class="level-card" onclick="selectStakingLevel(3, this)">
                        <h3>Level 3</h3>
                        <p>ÊúÄ‰Ωé: 1,000 HCF</p>
                        <p>Êó•Âåñ: 0.6%</p>
                        <p>LP: 1.2%</p>
                        <p>Â§çÊäï: 200ÂÄç</p>
                    </div>
                    <div class="level-card" onclick="selectStakingLevel(4, this)">
                        <h3>Level 4</h3>
                        <p>ÊúÄ‰Ωé: 10,000 HCF</p>
                        <p>Êó•Âåñ: 0.7%</p>
                        <p>LP: 1.4%</p>
                        <p>Â§çÊäï: 2,000ÂÄç</p>
                    </div>
                    <div class="level-card" onclick="selectStakingLevel(5, this)">
                        <h3>Level 5</h3>
                        <p>ÊúÄ‰Ωé: 100,000 HCF</p>
                        <p>Êó•Âåñ: 0.8%</p>
                        <p>LP: 1.6%</p>
                        <p>Â§çÊäï: 20,000ÂÄç</p>
                    </div>
                </div>
            </div>

            <!-- Ë¥®ÊäºËæìÂÖ• -->
            <div class="card">
                <h3>Ë¥®ÊäºËÆæÁΩÆ</h3>
                <div class="input-group">
                    <label>HCF Êï∞Èáè</label>
                    <input type="number" id="stake-amount" placeholder="ËæìÂÖ•Ë¥®ÊäºÊï∞Èáè">
                </div>
                <div class="input-group">
                    <label>BSDT Êï∞Èáè (LP)</label>
                    <input type="number" id="bsdt-amount" placeholder="ËæìÂÖ•BSDTÊï∞Èáè (ÂèØÈÄâ)">
                </div>
                <div style="display: flex; gap: 20px; margin: 20px 0;">
                    <label style="display: flex; align-items: center;">
                        <input type="checkbox" id="is-lp" style="margin-right: 10px;">
                        LPË¥®Êäº (ÂèåÂÄçÊî∂Áõä)
                    </label>
                    <label style="display: flex; align-items: center;">
                        <input type="checkbox" id="is-equity" style="margin-right: 10px;">
                        ËÇ°ÊùÉË¥®Êäº (+50%)
                    </label>
                </div>
                <div class="input-group">
                    <label>Â§çÊäïÂÄçÊï∞</label>
                    <select id="compound-multiple">
                        <option value="1">‰∏çÂ§çÊäï</option>
                        <option value="10">10ÂÄç</option>
                        <option value="100">100ÂÄç</option>
                        <option value="1000">1000ÂÄç</option>
                    </select>
                </div>
            </div>

            <!-- ÊòæÁ§∫ÊãÜÂàÜÂíåÊî∂ÁõäËÆ°ÁÆó -->
            <div class="card">
                <h3>Ë¥®ÊäºÊãÜÂàÜÊòæÁ§∫</h3>
                <div class="info-box">
                    <div id="stake-split">
                        Á≠âÂæÖËæìÂÖ•...
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Âä®ÊÄÅÊî∂ÁõäÊØî</span>
                        <span class="stat-value">70%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ÂÆûÈôÖÊî∂Áõä</span>
                        <span class="stat-value" id="actual-yield">0 HCF</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Ë°∞ÂáèÁéá</span>
                        <span class="stat-value">0.1%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ÊÄªÂä†Êàê</span>
                        <span class="stat-value">+35%</span>
                    </div>
                </div>
            </div>

            <!-- ÈôêË¥≠ÂíåÊèêÈÜí -->
            <div class="grid">
                <div class="card">
                    <h3>ÈôêË¥≠ÊèêÈÜí</h3>
                    <div class="warning-box">
                        Ââç7Â§©ÈôêË¥≠Ââ©‰Ωô: 300 HCF<br>
                        ‰ªäÊó•Â∑≤Ë¥®Êäº: 700 HCF
                    </div>
                </div>
                <div class="card">
                    <h3>ËµéÂõûËßÑÂàô</h3>
                    <div class="info-box">
                        1:1ËµéÂõûÊ£ÄÊü•<br>
                        Êú™ËææÊ†áÂáÜÂ∞ÜÈîÄÊØÅ30%<br>
                        LPËµéÂõûÈ¢ùÂ§ñÊâ£Èô§10% BNB
                    </div>
                </div>
                <div class="card">
                    <h3>Êó†Â∏∏ÊçüÂ§±Ë°•ÂÅø</h3>
                    <div class="error-box">
                        ÂΩìÂâçÊçüÂ§±: -500 HCF
                    </div>
                    <button class="btn btn-success">Ë°•ÂÅø500 HCF (+20%‰ºòÂÖà)</button>
                </div>
            </div>

            <!-- Êìç‰ΩúÊåâÈíÆ -->
            <div class="card">
                <h3>Êìç‰Ωú</h3>
                <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                    <button class="btn" onclick="stake()">Ë¥®Êäº</button>
                    <button class="btn btn-danger" onclick="unstake()">ËµéÂõû</button>
                    <button class="btn btn-success" onclick="claimRewards()">È¢ÜÂèñÂ•ñÂä±</button>
                    <button class="btn" onclick="compound()">Â§çÊäï</button>
                    <button class="btn btn-secondary" onclick="payEquityLP()">ËÇ°ÊùÉLPÊîØ‰ªò</button>
                    <button class="btn btn-success" onclick="claimCompensation()">Ë°•Êó†Â∏∏ÊçüÂ§±</button>
                </div>
            </div>

            <!-- ÊàëÁöÑË¥®Êäº‰ø°ÊÅØ -->
            <div class="card">
                <h3>ÊàëÁöÑË¥®Êäº‰ø°ÊÅØ</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Ë¥®ÊäºÊï∞Èáè</span>
                        <span class="stat-value" id="my-staked">0 HCF</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Ë¥®ÊäºÁ≠âÁ∫ß</span>
                        <span class="stat-value" id="my-level">Êó†</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ÂæÖÈ¢ÜÂèñÂ•ñÂä±</span>
                        <span class="stat-value" id="pending-rewards">0 HCF</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Á¥ØËÆ°Êî∂Áõä</span>
                        <span class="stat-value" id="total-rewards">0 HCF</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÂÖ∂‰ªñÈ°µÈù¢Âç†‰Ωç -->
        <div id="referral-page" class="page-content">
            <div class="card">
                <h2>Êé®ËçêÁ≥ªÁªü</h2>
                <p>Êé®ËçêÂäüËÉΩÂºÄÂèë‰∏≠...</p>
            </div>
        </div>

        <div id="nodenft-page" class="page-content">
            <div class="card">
                <h2>ËäÇÁÇπNFT</h2>
                <p>ËäÇÁÇπNFTÂäüËÉΩÂºÄÂèë‰∏≠...</p>
            </div>
        </div>

        <div id="exchange-page" class="page-content">
            <div class="card">
                <h2>ÂÖëÊç¢</h2>
                <p>ÂÖëÊç¢ÂäüËÉΩÂºÄÂèë‰∏≠...</p>
            </div>
        </div>

        <div id="ranking-page" class="page-content">
            <div class="card">
                <h2>ÊéíÂêç</h2>
                <p>ÊéíÂêçÂäüËÉΩÂºÄÂèë‰∏≠...</p>
            </div>
        </div>

        <div id="governance-page" class="page-content">
            <div class="card">
                <h2>Ê≤ªÁêÜ</h2>
                <p>Ê≤ªÁêÜÂäüËÉΩÂºÄÂèë‰∏≠...</p>
            </div>
        </div>
    </div>

    <!-- Âä†ËΩΩEthers.js -->
    <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    
    <script>
        // ÂêàÁ∫¶Âú∞ÂùÄ
        const CONTRACTS = {
            HCF: '0x09F320b75e6A74994713a0e4Be54eF8f09fbaEcc',
            BSDT: '0x622e568976f6cC2eaE4cfd3836d92F111000E787',
            Staking: '0x6E4e682Cc90124Ef66a8cfC8Fc875CF5Ee8E8a74',
            NodeNFT: '0xFCd9c088f387C2C5a4ef87b87bde979a6EaAbA15',
            Referral: '0x4DBDcfC87D528F616e5B11b9bc84e7C00F0Fc674',
            Exchange: '0xb97E39eE96652baB8FEfBe49AA8cD9f2b1F829c7'
        };

        // ABIÂÆö‰πâ
        const HCF_ABI = [
            "function balanceOf(address) view returns (uint256)",
            "function totalSupply() view returns (uint256)",
            "function approve(address spender, uint256 amount) returns (bool)",
            "function transfer(address to, uint256 amount) returns (bool)"
        ];

        const STAKING_ABI = [
            "function stake(uint256 amount, bool isLP, bool isEquity) returns (bool)",
            "function unstake() returns (bool)",
            "function claimReward() returns (bool)",
            "function compound(uint256 multiple) returns (bool)",
            "function getUserInfo(address user) view returns (tuple(uint256 amount, uint256 rewardDebt, uint256 pendingReward, uint256 lastStakeTime, uint256 level, bool isActive, uint256 totalClaimed, uint256 referralReward, bool isLP))",
            "function totalStaked() view returns (uint256)"
        ];

        // ÂÖ®Â±ÄÂèòÈáè
        let provider = null;
        let signer = null;
        let account = null;
        let connected = false;
        let selectedLevel = 0;

        // È°µÈù¢ÂàáÊç¢
        function switchPage(page) {
            // ÈöêËóèÊâÄÊúâÈ°µÈù¢
            document.querySelectorAll('.page-content').forEach(p => {
                p.classList.remove('active');
            });
            // ÊòæÁ§∫ÈÄâ‰∏≠È°µÈù¢
            document.getElementById(`${page}-page`).classList.add('active');
            
            // Êõ¥Êñ∞ÂØºËà™Ê†áÁ≠æ
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // ËøûÊé•Èí±ÂåÖ
        async function connectWallet() {
            try {
                if (typeof window.ethereum === 'undefined') {
                    alert('ËØ∑ÂÆâË£Ö MetaMask Èí±ÂåÖ');
                    return;
                }

                provider = new ethers.providers.Web3Provider(window.ethereum);
                const accounts = await provider.send("eth_requestAccounts", []);
                
                if (accounts.length === 0) {
                    throw new Error('Ê≤°ÊúâÊâæÂà∞Ë¥¶Êà∑');
                }
                
                account = accounts[0];
                signer = provider.getSigner();
                connected = true;
                
                // Ê£ÄÊü•ÁΩëÁªú
                const network = await provider.getNetwork();
                if (network.chainId !== 97) {
                    await switchToBSCTestnet();
                }
                
                // Êõ¥Êñ∞UI
                document.getElementById('wallet-status').innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="color: #4caf50;">‚óè</span>
                        <span>${account.substring(0, 6)}...${account.substring(38)}</span>
                        <button class="btn btn-secondary" onclick="disconnect()">Êñ≠ÂºÄ</button>
                    </div>
                `;
                
                // Âä†ËΩΩÊï∞ÊçÆ
                await loadDashboardData();
                await loadStakingData();
                
                // ËÆ¢ÈòÖ‰∫ã‰ª∂
                subscribeToEvents();
                
            } catch (error) {
                console.error('ËøûÊé•Â§±Ë¥•:', error);
                alert('ËøûÊé•Â§±Ë¥•: ' + error.message);
            }
        }

        // ÂàáÊç¢Âà∞BSCÊµãËØïÁΩë
        async function switchToBSCTestnet() {
            try {
                await window.ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{ chainId: '0x61' }],
                });
            } catch (switchError) {
                if (switchError.code === 4902) {
                    await window.ethereum.request({
                        method: 'wallet_addEthereumChain',
                        params: [{
                            chainId: '0x61',
                            chainName: 'BSC Testnet',
                            nativeCurrency: {
                                name: 'BNB',
                                symbol: 'BNB',
                                decimals: 18
                            },
                            rpcUrls: ['https://data-seed-prebsc-1-s1.binance.org:8545/'],
                            blockExplorerUrls: ['https://testnet.bscscan.com/']
                        }]
                    });
                }
            }
        }

        // Âä†ËΩΩ‰ª™Ë°®ÁõòÊï∞ÊçÆ
        async function loadDashboardData() {
            if (!connected) return;
            
            try {
                const hcfContract = new ethers.Contract(CONTRACTS.HCF, HCF_ABI, provider);
                const stakingContract = new ethers.Contract(CONTRACTS.Staking, STAKING_ABI, provider);
                
                // Ëé∑Âèñ‰ΩôÈ¢ù
                const [hcfBalance, bnbBalance, totalSupply, userInfo] = await Promise.all([
                    hcfContract.balanceOf(account),
                    provider.getBalance(account),
                    hcfContract.totalSupply(),
                    stakingContract.getUserInfo(account)
                ]);
                
                // Êõ¥Êñ∞UI
                document.getElementById('hcf-balance').textContent = ethers.utils.formatUnits(hcfBalance, 18).slice(0, 10);
                document.getElementById('bnb-balance').textContent = ethers.utils.formatUnits(bnbBalance, 18).slice(0, 8);
                document.getElementById('total-supply').textContent = (Number(ethers.utils.formatUnits(totalSupply, 18)) / 1000000000).toFixed(1) + 'B';
                
                // ËÆ°ÁÆóÊó•Êî∂Áõä
                const stakedAmount = Number(ethers.utils.formatUnits(userInfo.amount || userInfo[0], 18));
                const level = Number(userInfo.level || userInfo[4]);
                const rates = [0.004, 0.005, 0.006, 0.007, 0.008];
                const dailyIncome = stakedAmount * (rates[level - 1] || 0) * 0.7; // 70%Âä®ÊÄÅÊî∂Áõä
                document.getElementById('daily-income').textContent = dailyIncome.toFixed(2);
                
            } catch (error) {
                console.error('Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:', error);
            }
        }

        // Âä†ËΩΩË¥®ÊäºÊï∞ÊçÆ
        async function loadStakingData() {
            if (!connected) return;
            
            try {
                const stakingContract = new ethers.Contract(CONTRACTS.Staking, STAKING_ABI, provider);
                const userInfo = await stakingContract.getUserInfo(account);
                
                document.getElementById('my-staked').textContent = ethers.utils.formatUnits(userInfo.amount || userInfo[0], 18) + ' HCF';
                document.getElementById('my-level').textContent = 'Level ' + (userInfo.level || userInfo[4]);
                document.getElementById('pending-rewards').textContent = ethers.utils.formatUnits(userInfo.pendingReward || userInfo[2], 18) + ' HCF';
                document.getElementById('total-rewards').textContent = ethers.utils.formatUnits(userInfo.totalClaimed || userInfo[6], 18) + ' HCF';
                
            } catch (error) {
                console.error('Âä†ËΩΩË¥®ÊäºÊï∞ÊçÆÂ§±Ë¥•:', error);
            }
        }

        // ÈÄâÊã©Ë¥®ÊäºÁ≠âÁ∫ß
        function selectStakingLevel(level, element) {
            selectedLevel = level;
            document.querySelectorAll('.level-card').forEach(card => {
                card.classList.remove('selected');
            });
            element.classList.add('selected');
            
            // Êõ¥Êñ∞ÊãÜÂàÜÊòæÁ§∫
            updateStakeSplit();
        }

        // Êõ¥Êñ∞Ë¥®ÊäºÊãÜÂàÜÊòæÁ§∫
        function updateStakeSplit() {
            const amount = document.getElementById('stake-amount').value;
            if (!amount || amount <= 0) {
                document.getElementById('stake-split').textContent = 'Á≠âÂæÖËæìÂÖ•...';
                return;
            }
            
            const isLP = document.getElementById('is-lp').checked;
            const isEquity = document.getElementById('is-equity').checked;
            
            let splitText = `Ë¥®Êäº ${amount} HCF\n`;
            if (isLP) {
                splitText += `LPÊ®°Âºè: ÂèåÂÄçÊî∂Áõä\n`;
            }
            if (isEquity) {
                splitText += `ËÇ°ÊùÉÊ®°Âºè: +50%Êî∂Áõä\n`;
            }
            
            const rates = [0.004, 0.005, 0.006, 0.007, 0.008];
            const rate = rates[selectedLevel - 1] || 0;
            const baseYield = amount * rate;
            const actualYield = baseYield * 0.7 * (isLP ? 2 : 1) * (isEquity ? 1.5 : 1);
            
            splitText += `È¢ÑËÆ°Êó•Êî∂Áõä: ${actualYield.toFixed(2)} HCF`;
            
            document.getElementById('stake-split').textContent = splitText;
            document.getElementById('actual-yield').textContent = actualYield.toFixed(2) + ' HCF';
        }

        // Ë¥®Êäº
        async function stake() {
            if (!connected) {
                alert('ËØ∑ÂÖàËøûÊé•Èí±ÂåÖ');
                return;
            }
            
            const amount = document.getElementById('stake-amount').value;
            if (!amount || amount <= 0) {
                alert('ËØ∑ËæìÂÖ•Ë¥®ÊäºÊï∞Èáè');
                return;
            }
            
            try {
                const hcfContract = new ethers.Contract(CONTRACTS.HCF, HCF_ABI, signer);
                const stakingContract = new ethers.Contract(CONTRACTS.Staking, STAKING_ABI, signer);
                
                const amountWei = ethers.utils.parseUnits(amount, 18);
                const isLP = document.getElementById('is-lp').checked;
                const isEquity = document.getElementById('is-equity').checked;
                
                // ÊéàÊùÉ
                const approveTx = await hcfContract.approve(CONTRACTS.Staking, amountWei);
                await approveTx.wait();
                
                // Ë¥®Êäº
                const stakeTx = await stakingContract.stake(amountWei, isLP, isEquity);
                await stakeTx.wait();
                
                alert('Ë¥®ÊäºÊàêÂäüÔºÅ');
                await loadStakingData();
                
            } catch (error) {
                console.error('Ë¥®ÊäºÂ§±Ë¥•:', error);
                alert('Ë¥®ÊäºÂ§±Ë¥•: ' + error.message);
            }
        }

        // ËµéÂõû
        async function unstake() {
            if (!connected) {
                alert('ËØ∑ÂÖàËøûÊé•Èí±ÂåÖ');
                return;
            }
            
            if (!confirm('Á°ÆÂÆöË¶ÅËµéÂõûÂÖ®ÈÉ®Ë¥®ÊäºÂêóÔºüÂèØËÉΩ‰ºöÊúâ30%ÁöÑÈîÄÊØÅÊÉ©ÁΩö')) {
                return;
            }
            
            try {
                const stakingContract = new ethers.Contract(CONTRACTS.Staking, STAKING_ABI, signer);
                const tx = await stakingContract.unstake();
                await tx.wait();
                
                alert('ËµéÂõûÊàêÂäüÔºÅ');
                await loadStakingData();
                
            } catch (error) {
                console.error('ËµéÂõûÂ§±Ë¥•:', error);
                alert('ËµéÂõûÂ§±Ë¥•: ' + error.message);
            }
        }

        // È¢ÜÂèñÂ•ñÂä±
        async function claimRewards() {
            if (!connected) {
                alert('ËØ∑ÂÖàËøûÊé•Èí±ÂåÖ');
                return;
            }
            
            try {
                const stakingContract = new ethers.Contract(CONTRACTS.Staking, STAKING_ABI, signer);
                const tx = await stakingContract.claimReward();
                await tx.wait();
                
                alert('È¢ÜÂèñÊàêÂäüÔºÅ(Â∑≤Êâ£Èô§5%Ê°•Êé•Ë¥π)');
                await loadStakingData();
                
            } catch (error) {
                console.error('È¢ÜÂèñÂ§±Ë¥•:', error);
                alert('È¢ÜÂèñÂ§±Ë¥•: ' + error.message);
            }
        }

        // Â§çÊäï
        async function compound() {
            if (!connected) {
                alert('ËØ∑ÂÖàËøûÊé•Èí±ÂåÖ');
                return;
            }
            
            const multiple = document.getElementById('compound-multiple').value;
            
            try {
                const stakingContract = new ethers.Contract(CONTRACTS.Staking, STAKING_ABI, signer);
                const tx = await stakingContract.compound(multiple);
                await tx.wait();
                
                alert(`Â§çÊäïÊàêÂäüÔºÅÂÄçÊï∞: ${multiple}x`);
                await loadStakingData();
                
            } catch (error) {
                console.error('Â§çÊäïÂ§±Ë¥•:', error);
                alert('Â§çÊäïÂ§±Ë¥•: ' + error.message);
            }
        }

        // ËÇ°ÊùÉLPÊîØ‰ªò
        function payEquityLP() {
            alert('ËÇ°ÊùÉLPÊîØ‰ªòÂäüËÉΩÂºÄÂèë‰∏≠...');
        }

        // Ë°•ÂÅøÊó†Â∏∏ÊçüÂ§±
        function claimCompensation() {
            alert('Êó†Â∏∏ÊçüÂ§±Ë°•ÂÅøÂäüËÉΩÂºÄÂèë‰∏≠...');
        }

        // Êñ≠ÂºÄËøûÊé•
        function disconnect() {
            account = null;
            connected = false;
            provider = null;
            signer = null;
            
            document.getElementById('wallet-status').innerHTML = `
                <button class="btn" onclick="connectWallet()">ËøûÊé•Èí±ÂåÖ</button>
            `;
        }

        // ËÆ¢ÈòÖ‰∫ã‰ª∂
        function subscribeToEvents() {
            if (!connected) return;
            
            const hcfContract = new ethers.Contract(CONTRACTS.HCF, HCF_ABI, provider);
            const stakingContract = new ethers.Contract(CONTRACTS.Staking, STAKING_ABI, provider);
            
            // ÁõëÂê¨Transfer‰∫ã‰ª∂
            hcfContract.on('Transfer', (from, to, amount) => {
                if (from === account || to === account) {
                    loadDashboardData();
                }
            });
            
            // ÁõëÂê¨Staked‰∫ã‰ª∂
            stakingContract.on('Staked', (user, amount) => {
                if (user === account) {
                    loadStakingData();
                }
            });
            
            // ÁõëÂê¨RewardsClaimed‰∫ã‰ª∂
            stakingContract.on('RewardsClaimed', (user, amount) => {
                if (user === account) {
                    loadStakingData();
                }
            });
        }

        // ÁõëÂê¨ËæìÂÖ•ÂèòÂåñ
        document.getElementById('stake-amount')?.addEventListener('input', updateStakeSplit);
        document.getElementById('is-lp')?.addEventListener('change', updateStakeSplit);
        document.getElementById('is-equity')?.addEventListener('change', updateStakeSplit);

        // ÁõëÂê¨Ë¥¶Êà∑ÂèòÂåñ
        if (window.ethereum) {
            window.ethereum.on('accountsChanged', (accounts) => {
                if (accounts.length === 0) {
                    disconnect();
                } else if (account !== accounts[0]) {
                    account = accounts[0];
                    connectWallet();
                }
            });
        }
    </script>
</body>
</html>